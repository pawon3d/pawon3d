@startuml Use Case Diagram - Sistem Manajemen Toko Kue

left to right direction
skinparam packageStyle rectangle
skinparam actorStyle awesome

' === AKTOR ===
actor "Pemilik" as owner
actor "Kasir" as cashier
actor "Produksi" as production
actor "Inventori" as inventory
actor "Pekerja" as worker
actor "Pelanggan" as customer

rectangle "Sistem Informasi Manajemen Toko Kue" {

    package "Autentikasi" {
        usecase "Login" as UC_LOGIN
        usecase "Aktivasi Akun" as UC_ACTIVATE
        usecase "Logout" as UC_LOGOUT
    }

    package "Kasir / POS" {
        usecase "Kelola Pesanan\n(Ready/Pesanan)" as UC_ORDER
        usecase "Kelola Pembayaran\n& Pelunasan" as UC_PAYMENT
        usecase "Kelola Refund" as UC_REFUND
        usecase "Cetak Struk" as UC_RECEIPT
        usecase "Kelola Sesi Kasir" as UC_SHIFT
        usecase "Laporan Kasir" as UC_REPORT_CASHIER
    }

    package "Produksi" {
        usecase "Rencana Produksi\n(Pesanan/Siap Beli)" as UC_PLAN_PROD
        usecase "Mulai Produksi" as UC_START_PROD
        usecase "Update Hasil & Gagal" as UC_PROGRESS_PROD
        usecase "Selesai / Batal Produksi" as UC_FINISH_PROD
        usecase "Antrian Produksi" as UC_QUEUE_PROD
        usecase "Laporan Produksi" as UC_REPORT_PROD
    }

    package "Inventori" {
        usecase "Kelola Produk\n& Komposisi" as UC_PRODUCT
        usecase "Kelola Bahan Baku\n& Batch" as UC_MATERIAL
        usecase "Kelola Kategori\n& Satuan" as UC_MASTER
        usecase "Rencana/Mulai/Selesai\nBelanja" as UC_EXPENSE
        usecase "Hitung Stok /\nRusak / Hilang" as UC_STOCK_COUNT
        usecase "Alur Persediaan\n& Log" as UC_INVENTORY_FLOW
        usecase "Laporan Inventori" as UC_REPORT_INV
        usecase "Kelola Supplier" as UC_SUPPLIER
    }

    package "Manajemen" {
        usecase "Kelola Pekerja" as UC_WORKER
        usecase "Kelola Peran\n& Hak Akses" as UC_ROLE
        usecase "Kelola Pelanggan\n& Poin" as UC_CUSTOMER
        usecase "Kelola Profil Usaha" as UC_STORE_PROFILE
        usecase "Kelola Channel\nPembayaran" as UC_PAYMENT_CHANNEL
        usecase "Kelola Dokumen\nUsaha" as UC_STORE_DOC
        usecase "Notifikasi Sistem" as UC_NOTIF
    }

    package "Landing Page" {
        usecase "Lihat Katalog" as UC_CATALOG
        usecase "Cara Pesan" as UC_HOW_ORDER
        usecase "FAQ" as UC_FAQ
    }
}

' === RELASI AKTOR ===
worker --> UC_ACTIVATE
worker --> UC_LOGIN
worker --> UC_LOGOUT

owner --> UC_REPORT_CASHIER
owner --> UC_REPORT_PROD
owner --> UC_REPORT_INV
owner --> UC_WORKER
owner --> UC_ROLE
owner --> UC_CUSTOMER
owner --> UC_STORE_PROFILE
owner --> UC_PAYMENT_CHANNEL
owner --> UC_STORE_DOC
owner --> UC_NOTIF

cashier --> UC_ORDER
cashier --> UC_PAYMENT
cashier --> UC_REFUND
cashier --> UC_RECEIPT
cashier --> UC_SHIFT
cashier --> UC_REPORT_CASHIER

production --> UC_PLAN_PROD
production --> UC_START_PROD
production --> UC_PROGRESS_PROD
production --> UC_FINISH_PROD
production --> UC_QUEUE_PROD
production --> UC_REPORT_PROD

inventory --> UC_PRODUCT
inventory --> UC_MATERIAL
inventory --> UC_MASTER
inventory --> UC_EXPENSE
inventory --> UC_STOCK_COUNT
inventory --> UC_INVENTORY_FLOW
inventory --> UC_REPORT_INV
inventory --> UC_SUPPLIER
inventory --> UC_NOTIF

customer --> UC_CATALOG
customer --> UC_HOW_ORDER
customer --> UC_FAQ

' === INCLUDE / EXTEND ===
UC_ORDER ..> UC_PAYMENT : <<include>>
UC_ORDER ..> UC_RECEIPT : <<include>>
UC_ORDER ..> UC_QUEUE_PROD : <<include>>
UC_EXPENSE <|-- UC_INVENTORY_FLOW : <<extend>>
UC_EXPENSE <|-- UC_STOCK_COUNT : <<extend>>
UC_WORKER <|-- UC_ROLE : <<extend>>
UC_WORKER <|-- UC_ACTIVATE : <<include>>

@enduml
