@startuml Activity - Transaksi Pesanan (DP/Lunas)

|Kasir|
start
:Buka POS\n(pesanan reguler/kotak);
:Pilih produk & qty;
:Set jadwal ambil;
:Input pelanggan\n(firstOrCreate by phone);
:Pilih bayar DP atau Lunas;

|System|
if (DP?) then (ya)
    :Simpan transaksi\nstatus Antrian,\npayment_status DP;
else (Lunas)
    :Simpan transaksi\nstatus Antrian,\npayment_status Lunas;
endif

:Simpan detail transaksi;
:Buat produksi\n(method mengikuti pesanan);
:Simpan pembayaran\n(jika ada);
:Kirim notifikasi ke\nproduksi & kasir;

|Kasir|
:Selesai;

stop

@enduml
