<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="2086px" preserveAspectRatio="none" style="width:1265px;height:2086px;background:#FFFFFF;" version="1.1" viewBox="0 0 1265 2086" width="1265px" zoomAndPan="magnify"><title>Sequence Diagram: Proses Pembayaran</title><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="268.4541" x="499.5183" y="29.5332">Sequence Diagram: Proses Pembayaran</text><rect fill="#FFFFFF" height="1841.2266" style="stroke:#181818;stroke-width:1.0;" width="10" x="235.5688" y="153.5703"/><rect fill="#FFFFFF" height="210.4609" style="stroke:#181818;stroke-width:1.0;" width="10" x="598.0449" y="1207.5234"/><rect fill="#FFFFFF" height="60.7031" style="stroke:#181818;stroke-width:1.0;" width="10" x="983.8032" y="828.3047"/><rect fill="#FFFFFF" height="60.7031" style="stroke:#181818;stroke-width:1.0;" width="10" x="983.8032" y="1699.1484"/><rect fill="none" height="560.3281" style="stroke:#000000;stroke-width:1.5;" width="1228.4907" x="20" y="336.6797"/><rect fill="none" height="820.9766" style="stroke:#000000;stroke-width:1.5;" width="1248.4907" x="10" y="1166.8203"/><rect fill="none" height="243.8125" style="stroke:#000000;stroke-width:1.5;" width="1114.418" x="134.0728" y="1524.0391"/><rect fill="none" height="122.4063" style="stroke:#000000;stroke-width:1.5;" width="370.166" x="20" y="1781.8516"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="48" x2="48" y1="121.2188" y2="2004.7969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="240.0728" x2="240.0728" y1="121.2188" y2="2004.7969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="514.2764" x2="514.2764" y1="121.2188" y2="2004.7969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="602.4209" x2="602.4209" y1="121.2188" y2="2004.7969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="784.4868" x2="784.4868" y1="121.2188" y2="2004.7969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="892.8862" x2="892.8862" y1="121.2188" y2="2004.7969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="988.5688" x2="988.5688" y1="121.2188" y2="2004.7969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1204.5601" x2="1204.5601" y1="121.2188" y2="2004.7969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31.8965" x="30" y="118.1426">Kasir</text><ellipse cx="48.9482" cy="52.1094" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M48.9482,60.1094 L48.9482,87.1094 M35.9482,68.1094 L61.9482,68.1094 M48.9482,87.1094 L35.9482,102.1094 M48.9482,87.1094 L61.9482,102.1094 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31.8965" x="30" y="2018.3301">Kasir</text><ellipse cx="48.9482" cy="2029.9063" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M48.9482,2037.9063 L48.9482,2064.9063 M35.9482,2045.9063 L61.9482,2045.9063 M48.9482,2064.9063 L35.9482,2079.9063 M48.9482,2064.9063 L61.9482,2079.9063 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="192.9922" x="144.0728" y="71"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="178.9922" x="151.0728" y="92.5332">Transaction/RincianPesanan</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="60.6758" x="210.231" y="110.1426">(Livewire)</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="192.9922" x="144.0728" y="2003.7969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="178.9922" x="151.0728" y="2025.3301">Transaction/RincianPesanan</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="60.6758" x="210.231" y="2042.9395">(Livewire)</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="87.1445" x="471.2764" y="71"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73.1445" x="478.2764" y="92.5332">Transaction</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="47.4551" x="491.1211" y="110.1426">(Model)</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="87.1445" x="471.2764" y="2003.7969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73.1445" x="478.2764" y="2025.3301">Transaction</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="47.4551" x="491.1211" y="2042.9395">(Model)</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="69.248" x="568.4209" y="71"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55.248" x="575.4209" y="92.5332">Payment</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="47.4551" x="579.3174" y="110.1426">(Model)</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="69.248" x="568.4209" y="2003.7969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55.248" x="575.4209" y="2025.3301">Payment</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="47.4551" x="579.3174" y="2042.9395">(Model)</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="121.3994" x="724.4868" y="71"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="107.3994" x="731.4868" y="92.5332">PaymentChannel</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="47.4551" x="761.459" y="110.1426">(Model)</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="121.3994" x="724.4868" y="2003.7969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="107.3994" x="731.4868" y="2025.3301">PaymentChannel</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="47.4551" x="761.459" y="2042.9395">(Model)</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="74.6826" x="855.8862" y="71"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="60.6826" x="862.8862" y="92.5332">Customer</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="47.4551" x="869.5" y="110.1426">(Model)</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="74.6826" x="855.8862" y="2003.7969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="60.6826" x="862.8862" y="2025.3301">Customer</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="47.4551" x="869.5" y="2042.9395">(Model)</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="96.4688" x="940.5688" y="71"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="82.4688" x="947.5688" y="92.5332">PointsHistory</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="47.4551" x="965.0757" y="110.1426">(Model)</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="96.4688" x="940.5688" y="2003.7969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="82.4688" x="947.5688" y="2025.3301">PointsHistory</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="47.4551" x="965.0757" y="2042.9395">(Model)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="59.9307" x="1172.5601" y="118.1426">Database</text><path d="M1187.5254,67.6094 C1187.5254,57.6094 1205.5254,57.6094 1205.5254,57.6094 C1205.5254,57.6094 1223.5254,57.6094 1223.5254,67.6094 L1223.5254,93.6094 C1223.5254,103.6094 1205.5254,103.6094 1205.5254,103.6094 C1205.5254,103.6094 1187.5254,103.6094 1187.5254,93.6094 L1187.5254,67.6094 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M1187.5254,67.6094 C1187.5254,77.6094 1205.5254,77.6094 1205.5254,77.6094 C1205.5254,77.6094 1223.5254,77.6094 1223.5254,67.6094 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="59.9307" x="1172.5601" y="2018.3301">Database</text><path d="M1187.5254,2031.4063 C1187.5254,2021.4063 1205.5254,2021.4063 1205.5254,2021.4063 C1205.5254,2021.4063 1223.5254,2021.4063 1223.5254,2031.4063 L1223.5254,2057.4063 C1223.5254,2067.4063 1205.5254,2067.4063 1205.5254,2067.4063 C1205.5254,2067.4063 1187.5254,2067.4063 1187.5254,2057.4063 L1187.5254,2031.4063 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M1187.5254,2031.4063 C1187.5254,2041.4063 1205.5254,2041.4063 1205.5254,2041.4063 C1205.5254,2041.4063 1223.5254,2041.4063 1223.5254,2031.4063 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><rect fill="#FFFFFF" height="1841.2266" style="stroke:#181818;stroke-width:1.0;" width="10" x="235.5688" y="153.5703"/><rect fill="#FFFFFF" height="210.4609" style="stroke:#181818;stroke-width:1.0;" width="10" x="598.0449" y="1207.5234"/><rect fill="#FFFFFF" height="60.7031" style="stroke:#181818;stroke-width:1.0;" width="10" x="983.8032" y="828.3047"/><rect fill="#FFFFFF" height="60.7031" style="stroke:#181818;stroke-width:1.0;" width="10" x="983.8032" y="1699.1484"/><polygon fill="#181818" points="223.5688,149.5703,233.5688,153.5703,223.5688,157.5703,227.5688,153.5703" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="48.9482" x2="229.5688" y1="153.5703" y2="153.5703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130.7998" x="55.9482" y="148.7139">Akses rincian pesanan</text><polygon fill="#181818" points="502.8486,179.9219,512.8486,183.9219,502.8486,187.9219,506.8486,183.9219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="245.5688" x2="508.8486" y1="183.9219" y2="183.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="245.2798" x="252.5688" y="179.0654">find(id)-&gt;with(details, customer, payments)</text><polygon fill="#181818" points="1193.5254,210.2734,1203.5254,214.2734,1193.5254,218.2734,1197.5254,214.2734" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="514.8486" x2="1199.5254" y1="214.2734" y2="214.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="222.498" x="521.8486" y="209.417">SELECT * FROM transactions JOIN ...</text><polygon fill="#181818" points="525.8486,240.625,515.8486,244.625,525.8486,248.625,521.8486,244.625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="519.8486" x2="1204.5254" y1="244.625" y2="244.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92.5044" x="531.8486" y="239.7686">transaction data</text><polygon fill="#181818" points="256.5688,270.9766,246.5688,274.9766,256.5688,278.9766,252.5688,274.9766" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="250.5688" x2="513.8486" y1="274.9766" y2="274.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106.2217" x="262.5688" y="270.1201">Transaction object</text><polygon fill="#181818" points="59.9482,317.6797,49.9482,321.6797,59.9482,325.6797,55.9482,321.6797" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="53.9482" x2="234.5688" y1="321.6797" y2="321.6797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="150.2871" x="65.9482" y="300.4717">Tampilkan detail transaksi</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96.1353" x="65.9482" y="316.8232">dan total tagihan</text><path d="M20,336.6797 L85.2109,336.6797 L85.2109,345.0313 L75.2109,355.0313 L20,355.0313 L20,336.6797 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="560.3281" style="stroke:#000000;stroke-width:1.5;" width="1228.4907" x="20" y="336.6797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="20.2109" x="35" y="351.1748">opt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="138.7246" x="100.2109" y="350.0986">[Gunakan poin pelanggan]</text><polygon fill="#181818" points="881.2275,373.3828,891.2275,377.3828,881.2275,381.3828,885.2275,377.3828" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="245.5688" x2="887.2275" y1="377.3828" y2="377.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="100.4263" x="252.5688" y="372.5264">find(customer_id)</text><polygon fill="#181818" points="1193.5254,403.7344,1203.5254,407.7344,1193.5254,411.7344,1197.5254,407.7344" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="893.2275" x2="1199.5254" y1="407.7344" y2="407.7344"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="164.6963" x="900.2275" y="402.8779">SELECT * FROM customers</text><polygon fill="#181818" points="904.2275,434.0859,894.2275,438.0859,904.2275,442.0859,900.2275,438.0859" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="898.2275" x2="1204.5254" y1="438.0859" y2="438.0859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="118.4917" x="910.2275" y="433.2295">customer with points</text><polygon fill="#181818" points="256.5688,464.4375,246.5688,468.4375,256.5688,472.4375,252.5688,468.4375" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="250.5688" x2="892.2275" y1="468.4375" y2="468.4375"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="143.0571" x="262.5688" y="463.5811">Customer (poin tersedia)</text><polygon fill="#181818" points="59.9482,494.7891,49.9482,498.7891,59.9482,502.7891,55.9482,498.7891" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="53.9482" x2="234.5688" y1="498.7891" y2="498.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="138.0171" x="65.9482" y="493.9326">Tampilkan poin tersedia</text><polygon fill="#181818" points="223.5688,525.1406,233.5688,529.1406,223.5688,533.1406,227.5688,529.1406" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="48.9482" x2="229.5688" y1="529.1406" y2="529.1406"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="162.6206" x="55.9482" y="524.2842">Input jumlah poin digunakan</text><line style="stroke:#181818;stroke-width:1.0;" x1="245.5688" x2="287.5688" y1="559.4922" y2="559.4922"/><line style="stroke:#181818;stroke-width:1.0;" x1="287.5688" x2="287.5688" y1="559.4922" y2="572.4922"/><line style="stroke:#181818;stroke-width:1.0;" x1="246.5688" x2="287.5688" y1="572.4922" y2="572.4922"/><polygon fill="#181818" points="256.5688,568.4922,246.5688,572.4922,256.5688,576.4922,252.5688,572.4922" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2471" x="252.5688" y="554.6357">Hitung diskon dari poin</text><line style="stroke:#181818;stroke-width:1.0;" x1="245.5688" x2="287.5688" y1="602.8438" y2="602.8438"/><line style="stroke:#181818;stroke-width:1.0;" x1="287.5688" x2="287.5688" y1="602.8438" y2="615.8438"/><line style="stroke:#181818;stroke-width:1.0;" x1="246.5688" x2="287.5688" y1="615.8438" y2="615.8438"/><polygon fill="#181818" points="256.5688,611.8438,246.5688,615.8438,256.5688,619.8438,252.5688,615.8438" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116.3652" x="252.5688" y="597.9873">Update total tagihan</text><polygon fill="#181818" points="502.8486,642.1953,512.8486,646.1953,502.8486,650.1953,506.8486,646.1953" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="245.5688" x2="508.8486" y1="646.1953" y2="646.1953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="118.5298" x="252.5688" y="641.3389">update(points_used)</text><polygon fill="#181818" points="1193.5254,672.5469,1203.5254,676.5469,1193.5254,680.5469,1197.5254,676.5469" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="514.8486" x2="1199.5254" y1="676.5469" y2="676.5469"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="229.0488" x="521.8486" y="671.6904">UPDATE transactions SET points_used</text><polygon fill="#181818" points="525.8486,702.8984,515.8486,706.8984,525.8486,710.8984,521.8486,706.8984" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="519.8486" x2="1204.5254" y1="706.8984" y2="706.8984"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="18.7827" x="531.8486" y="702.042">OK</text><polygon fill="#181818" points="881.2275,733.25,891.2275,737.25,881.2275,741.25,885.2275,737.25" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="245.5688" x2="887.2275" y1="737.25" y2="737.25"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="140.1816" x="252.5688" y="732.3936">decrement(points, used)</text><polygon fill="#181818" points="1193.5254,763.6016,1203.5254,767.6016,1193.5254,771.6016,1197.5254,767.6016" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="893.2275" x2="1199.5254" y1="767.6016" y2="767.6016"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="272.7461" x="900.2275" y="762.7451">UPDATE customers SET points = points - used</text><polygon fill="#181818" points="904.2275,793.9531,894.2275,797.9531,904.2275,801.9531,900.2275,797.9531" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="898.2275" x2="1204.5254" y1="797.9531" y2="797.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="18.7827" x="910.2275" y="793.0967">OK</text><polygon fill="#181818" points="971.8032,824.3047,981.8032,828.3047,971.8032,832.3047,975.8032,828.3047" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="245.5688" x2="977.8032" y1="828.3047" y2="828.3047"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="301.2725" x="252.5688" y="823.4482">create(phone, transaction_id, -points, 'Penggunaan')</text><polygon fill="#181818" points="1193.5254,854.6563,1203.5254,858.6563,1193.5254,862.6563,1197.5254,858.6563" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="993.8032" x2="1199.5254" y1="858.6563" y2="858.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="176.2744" x="1000.8032" y="853.7998">INSERT INTO points_histories</text><polygon fill="#181818" points="999.8032,885.0078,989.8032,889.0078,999.8032,893.0078,995.8032,889.0078" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="993.8032" x2="1204.5254" y1="889.0078" y2="889.0078"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="18.7827" x="1005.8032" y="884.1514">OK</text><polygon fill="#181818" points="223.5688,922.3594,233.5688,926.3594,223.5688,930.3594,227.5688,926.3594" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="48.9482" x2="229.5688" y1="926.3594" y2="926.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147.418" x="55.9482" y="921.5029">Pilih metode pembayaran</text><polygon fill="#181818" points="773.1865,952.7109,783.1865,956.7109,773.1865,960.7109,777.1865,956.7109" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="245.5688" x2="779.1865" y1="956.7109" y2="956.7109"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="21.6646" x="252.5688" y="951.8545">all()</text><polygon fill="#181818" points="1193.5254,983.0625,1203.5254,987.0625,1193.5254,991.0625,1197.5254,987.0625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="785.1865" x2="1199.5254" y1="987.0625" y2="987.0625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="320.0552" x="792.1865" y="982.2061">SELECT * FROM payment_channels WHERE is_active</text><polygon fill="#181818" points="796.1865,1013.4141,786.1865,1017.4141,796.1865,1021.4141,792.1865,1017.4141" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="790.1865" x2="1204.5254" y1="1017.4141" y2="1017.4141"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="52.0381" x="802.1865" y="1012.5576">channels</text><polygon fill="#181818" points="256.5688,1043.7656,246.5688,1047.7656,256.5688,1051.7656,252.5688,1047.7656" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="250.5688" x2="784.1865" y1="1047.7656" y2="1047.7656"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106.9517" x="262.5688" y="1042.9092">Payment channels</text><polygon fill="#181818" points="223.5688,1074.1172,233.5688,1078.1172,223.5688,1082.1172,227.5688,1078.1172" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="48.9482" x2="229.5688" y1="1078.1172" y2="1078.1172"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="146.7007" x="55.9482" y="1073.2607">Input jumlah pembayaran</text><polygon fill="#181818" points="223.5688,1104.4688,233.5688,1108.4688,223.5688,1112.4688,227.5688,1108.4688" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="48.9482" x2="229.5688" y1="1108.4688" y2="1108.4688"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116.3398" x="55.9482" y="1103.6123">Submit pembayaran</text><line style="stroke:#181818;stroke-width:1.0;" x1="245.5688" x2="287.5688" y1="1138.8203" y2="1138.8203"/><line style="stroke:#181818;stroke-width:1.0;" x1="287.5688" x2="287.5688" y1="1138.8203" y2="1151.8203"/><line style="stroke:#181818;stroke-width:1.0;" x1="246.5688" x2="287.5688" y1="1151.8203" y2="1151.8203"/><polygon fill="#181818" points="256.5688,1147.8203,246.5688,1151.8203,256.5688,1155.8203,252.5688,1151.8203" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="163.3125" x="252.5688" y="1133.9639">Validasi jumlah pembayaran</text><path d="M10,1166.8203 L70.1709,1166.8203 L70.1709,1175.1719 L60.1709,1185.1719 L10,1185.1719 L10,1166.8203 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="820.9766" style="stroke:#000000;stroke-width:1.5;" width="1248.4907" x="10" y="1166.8203"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="15.1709" x="25" y="1181.3154">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="108.2007" x="85.1709" y="1180.2393">[Pembayaran cukup]</text><polygon fill="#181818" points="586.0449,1203.5234,596.0449,1207.5234,586.0449,1211.5234,590.0449,1207.5234" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="245.5688" x2="592.0449" y1="1207.5234" y2="1207.5234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="246.4224" x="252.5688" y="1202.667">create(transaction_id, channel_id, amount)</text><line style="stroke:#181818;stroke-width:1.0;" x1="608.0449" x2="650.0449" y1="1254.2266" y2="1254.2266"/><line style="stroke:#181818;stroke-width:1.0;" x1="650.0449" x2="650.0449" y1="1254.2266" y2="1267.2266"/><line style="stroke:#181818;stroke-width:1.0;" x1="609.0449" x2="650.0449" y1="1267.2266" y2="1267.2266"/><polygon fill="#181818" points="619.0449,1263.2266,609.0449,1267.2266,619.0449,1271.2266,615.0449,1267.2266" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="33.96" x="615.0449" y="1233.0186">boot()</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="89.5908" x="615.0449" y="1249.3701">Generate UUID</text><line style="stroke:#181818;stroke-width:1.0;" x1="608.0449" x2="650.0449" y1="1313.9297" y2="1313.9297"/><line style="stroke:#181818;stroke-width:1.0;" x1="650.0449" x2="650.0449" y1="1313.9297" y2="1326.9297"/><line style="stroke:#181818;stroke-width:1.0;" x1="609.0449" x2="650.0449" y1="1326.9297" y2="1326.9297"/><polygon fill="#181818" points="619.0449,1322.9297,609.0449,1326.9297,619.0449,1330.9297,615.0449,1326.9297" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="148.1416" x="615.0449" y="1292.7217">Generate receipt_number</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105.4473" x="615.0449" y="1309.0732">(YYMMDD-XXXX)</text><polygon fill="#181818" points="1193.5254,1353.2813,1203.5254,1357.2813,1193.5254,1361.2813,1197.5254,1357.2813" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="608.0449" x2="1199.5254" y1="1357.2813" y2="1357.2813"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="142.3081" x="615.0449" y="1352.4248">INSERT INTO payments</text><polygon fill="#181818" points="619.0449,1383.6328,609.0449,1387.6328,619.0449,1391.6328,615.0449,1387.6328" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="613.0449" x2="1204.5254" y1="1387.6328" y2="1387.6328"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="18.7827" x="625.0449" y="1382.7764">OK</text><polygon fill="#181818" points="256.5688,1413.9844,246.5688,1417.9844,256.5688,1421.9844,252.5688,1417.9844" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="250.5688" x2="602.0449" y1="1417.9844" y2="1417.9844"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="98.2744" x="262.5688" y="1413.1279">Payment created</text><polygon fill="#181818" points="502.8486,1444.3359,512.8486,1448.3359,502.8486,1452.3359,506.8486,1448.3359" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="245.5688" x2="508.8486" y1="1448.3359" y2="1448.3359"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="138.3027" x="252.5688" y="1443.4795">update(status = 'Lunas')</text><polygon fill="#181818" points="1193.5254,1474.6875,1203.5254,1478.6875,1193.5254,1482.6875,1197.5254,1478.6875" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="514.8486" x2="1199.5254" y1="1478.6875" y2="1478.6875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="193.6226" x="521.8486" y="1473.8311">UPDATE transactions SET status</text><polygon fill="#181818" points="525.8486,1505.0391,515.8486,1509.0391,525.8486,1513.0391,521.8486,1509.0391" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="519.8486" x2="1204.5254" y1="1509.0391" y2="1509.0391"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="18.7827" x="531.8486" y="1504.1826">OK</text><path d="M134.0728,1524.0391 L199.2837,1524.0391 L199.2837,1532.3906 L189.2837,1542.3906 L134.0728,1542.3906 L134.0728,1524.0391 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="243.8125" style="stroke:#000000;stroke-width:1.5;" width="1114.418" x="134.0728" y="1524.0391"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="20.2109" x="149.0728" y="1538.5342">opt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="80.6792" x="214.2837" y="1537.458">[Ada customer]</text><line style="stroke:#181818;stroke-width:1.0;" x1="245.5688" x2="287.5688" y1="1564.7422" y2="1564.7422"/><line style="stroke:#181818;stroke-width:1.0;" x1="287.5688" x2="287.5688" y1="1564.7422" y2="1577.7422"/><line style="stroke:#181818;stroke-width:1.0;" x1="246.5688" x2="287.5688" y1="1577.7422" y2="1577.7422"/><polygon fill="#181818" points="256.5688,1573.7422,246.5688,1577.7422,256.5688,1581.7422,252.5688,1577.7422" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="176.3188" x="252.5688" y="1559.8857">Hitung poin baru dari transaksi</text><polygon fill="#181818" points="881.2275,1604.0938,891.2275,1608.0938,881.2275,1612.0938,885.2275,1608.0938" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="245.5688" x2="887.2275" y1="1608.0938" y2="1608.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="148.1289" x="252.5688" y="1603.2373">increment(points, earned)</text><polygon fill="#181818" points="1193.5254,1634.4453,1203.5254,1638.4453,1193.5254,1642.4453,1197.5254,1638.4453" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="893.2275" x2="1199.5254" y1="1638.4453" y2="1638.4453"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="288.2979" x="900.2275" y="1633.5889">UPDATE customers SET points = points + earned</text><polygon fill="#181818" points="904.2275,1664.7969,894.2275,1668.7969,904.2275,1672.7969,900.2275,1668.7969" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="898.2275" x2="1204.5254" y1="1668.7969" y2="1668.7969"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="18.7827" x="910.2275" y="1663.9404">OK</text><polygon fill="#181818" points="971.8032,1695.1484,981.8032,1699.1484,971.8032,1703.1484,975.8032,1699.1484" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="245.5688" x2="977.8032" y1="1699.1484" y2="1699.1484"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="290.0625" x="252.5688" y="1694.292">create(phone, transaction_id, +points, 'Perolehan')</text><polygon fill="#181818" points="1193.5254,1725.5,1203.5254,1729.5,1193.5254,1733.5,1197.5254,1729.5" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="993.8032" x2="1199.5254" y1="1729.5" y2="1729.5"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="176.2744" x="1000.8032" y="1724.6436">INSERT INTO points_histories</text><polygon fill="#181818" points="999.8032,1755.8516,989.8032,1759.8516,999.8032,1763.8516,995.8032,1759.8516" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="993.8032" x2="1204.5254" y1="1759.8516" y2="1759.8516"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="18.7827" x="1005.8032" y="1754.9951">OK</text><path d="M20,1781.8516 L85.2109,1781.8516 L85.2109,1790.2031 L75.2109,1800.2031 L20,1800.2031 L20,1781.8516 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="122.4063" style="stroke:#000000;stroke-width:1.5;" width="370.166" x="20" y="1781.8516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="20.2109" x="35" y="1796.3467">opt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="67.2407" x="100.2109" y="1795.2705">[Cetak struk]</text><polygon fill="#181818" points="223.5688,1818.5547,233.5688,1822.5547,223.5688,1826.5547,227.5688,1822.5547" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="48.9482" x2="229.5688" y1="1822.5547" y2="1822.5547"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="87.4136" x="55.9482" y="1817.6982">Klik cetak struk</text><line style="stroke:#181818;stroke-width:1.0;" x1="245.5688" x2="287.5688" y1="1852.9063" y2="1852.9063"/><line style="stroke:#181818;stroke-width:1.0;" x1="287.5688" x2="287.5688" y1="1852.9063" y2="1865.9063"/><line style="stroke:#181818;stroke-width:1.0;" x1="246.5688" x2="287.5688" y1="1865.9063" y2="1865.9063"/><polygon fill="#181818" points="256.5688,1861.9063,246.5688,1865.9063,256.5688,1869.9063,252.5688,1865.9063" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="115.5972" x="252.5688" y="1848.0498">Generate PDF struk</text><polygon fill="#181818" points="59.9482,1892.2578,49.9482,1896.2578,59.9482,1900.2578,55.9482,1896.2578" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="53.9482" x2="234.5688" y1="1896.2578" y2="1896.2578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="118.498" x="65.9482" y="1891.4014">Download/print struk</text><polygon fill="#181818" points="59.9482,1929.6094,49.9482,1933.6094,59.9482,1937.6094,55.9482,1933.6094" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="53.9482" x2="234.5688" y1="1933.6094" y2="1933.6094"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122.8462" x="65.9482" y="1928.7529">Pembayaran berhasil</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="10" x2="1258.4907" y1="1942.6094" y2="1942.6094"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="112.4814" x="15" y="1954.0283">[Pembayaran kurang]</text><polygon fill="#181818" points="59.9482,1975.7969,49.9482,1979.7969,59.9482,1983.7969,55.9482,1979.7969" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="53.9482" x2="234.5688" y1="1979.7969" y2="1979.7969"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="156.1016" x="65.9482" y="1974.9404">Pesan pembayaran kurang</text><!--SRC=[dLRRRjiu47tNLn1vYRsrq_S2Mo28tIQRf35YPxS50XXZSMgpaYWjIJN8ttTuqyrokri_s39vPdZcS7We8qoER8t_rYXJP0i1UmN5ExPIfKRDLbZiu1KKo2I1r9IAdTs25kgCWMQrHfLKe8n8HGNIiBCD0JNXH2dVFWgP2f0hr211Fil9dVYEBqBXr0L_BLLnCfZGzoN7t4EDdUXZL_1Qe3HzNEK7Hv5N1v0Iytv0wWVx0LUrDcM1QW2bqK7YKaYZhmMXrUk0Y9jAE1ZOWKPsjWXFRfRlaiHAn-RldGhi7RlChDZAAyOgBvaLN7m7Wrwhn64fnib1GL-5v1F1f_FtBy8S9XmDY5pF75LRm2mAegU9Zw5WlgF8zV9kURLXVx0FZm_tFf_NNRE_7cu-iOkBYuI0yyvY7H2pTSMCRGsTxMFbxXkc9b8cZAkNC51K8i-eHiysfCsqU9QSHarfW0PXBmwsuyhAi8-r11jWDILbSf3xFSqn-aH1RC5HZrZybeHn83SvNdZ4QWSC1OTaSOvPRUE6jldQicExi8bZQ2WTSW5-yGxDCH5w4Mt0e3bkP5KRzgqkSl1C61TxhyfmaIRcMfXQxWceCxTXIhZ8CUXJnMsFzQK_oXlxe7ReYHTaIqo3pFq6UrejBZVBVcUjbnlM2Ujg7fC_t1ul7FQ3OwhGDdDOUiRQjNjR79PkzhQpBlipFipPa49OPen1YA6UKEXgFvGIPztYgDbcR1w9dQ-GUfGs2EIv9zWSv4uVHIQ1zisdzV9nGp-RXwZImLcBm5vxDcG2Kux3v2ZvaR-iH2uEh4137aM7gFNqHcNlX0I5F9zCa_X__E04Nza6b6R_N2yVbqpehIE3qJpQh17P9kwGyzbQJFBJ0z2o7y3MzQuGPhIyWFWRSi7f-Xh9bK1kEhSTzKDML_qs23IRFXWsGE3ldg4eQsc6kn_kfwR3OifUzbrPcidqMNv4YSg6FJtTB4x36vZ254Lbjh8kTkxs-lBb_dwnc7-cptGOVznpuQhezLgpI6Ys9i78vZbDU5jRjp67TPym5Mt0rFQKdj_HwT7d_yTPVEolJCLUA9SS6dTmWwVjqvdj3bJj7RIvh9gme_XW8tIH3zmAGSdeLx_dMMz2ZYR5g7EDilgF3lQcus2gpF7G6DWf4_iT8_k9cOqRcXsrfjRRnIjwVyXerrMTDQ43FxZDHSRI4TnWiviJj5fy64MsL_UYV95v2VnjHUzgfWFkyHj6TMo5JkQ132ZtO38xxCvcDNtlJ-JGxirmY7Lktz7ClIh-0000]--></g></svg>