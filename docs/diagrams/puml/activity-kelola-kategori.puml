@startuml activity-kelola-kategori

title Activity Diagram: Kelola Kategori dan Satuan

start

:Pengguna mengakses halaman kategori/satuan;

:Sistem menampilkan daftar data;

if (Pilih aksi?) then (Tambah)
    :Tampilkan form tambah;
    :Pengguna mengisi data;
    
    if (Validasi duplikasi nama?) then (Duplikat)
        :Tampilkan pesan error;
        stop
    else (Unik)
        :Simpan data ke database;
        :Catat log aktivitas;
        :Tampilkan notifikasi sukses;
    endif
    
elseif (Ubah) then
    :Tampilkan form edit;
    :Pengguna mengubah data;
    
    if (Validasi data?) then (Valid)
        :Simpan perubahan;
        :Catat log aktivitas;
        :Tampilkan notifikasi sukses;
    else (Tidak Valid)
        :Tampilkan pesan error;
    endif
    
elseif (Hapus) then
    if (Konfirmasi hapus?) then (Ya)
        if (Cek relasi data?) then (Ada relasi)
            :Tampilkan pesan tidak bisa dihapus;
        else (Tidak ada)
            :Hapus data dari database;
            :Catat log aktivitas;
            :Tampilkan notifikasi sukses;
        endif
    else (Tidak)
    endif
    
else (Batal)
endif

:Refresh daftar data;

stop

@enduml
