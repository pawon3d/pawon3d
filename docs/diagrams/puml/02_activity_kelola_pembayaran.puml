@startuml Activity Diagram - Proses Mengelola Metode Pembayaran

|Pemilik|
start
:Membuka halaman Metode Pembayaran;

if (Aksi?) then (Tambah)
    :Klik tombol Tambah Channel;
    :Mengisi form channel pembayaran;
    note right
      Data channel:
      - Nama (BCA, Mandiri, QRIS, dll)
      - Tipe (Bank Transfer, E-Wallet, QRIS)
      - Nomor rekening/akun
      - Nama pemilik rekening
    end note
    
    :Menentukan status aktif;
    :Menyimpan channel;
    
    |Sistem|
    :Validasi data;
    
    if (Data valid?) then (Ya)
        :Menyimpan ke database;
        :Menampilkan pesan sukses;
    else (Tidak)
        :Menampilkan pesan error;
    endif
    
else if (Aksi?) then (Edit)
    |Pemilik|
    :Memilih channel yang akan diedit;
    :Mengubah data channel;
    :Menyimpan perubahan;
    
    |Sistem|
    :Validasi data;
    :Update data channel;
    :Menampilkan pesan sukses;
    
else if (Aksi?) then (Toggle Status)
    |Pemilik|
    :Memilih channel;
    :Klik toggle aktif/nonaktif;
    
    |Sistem|
    if (Status saat ini?) then (Aktif)
        :Set status: Nonaktif;
        :Channel tidak muncul di kasir;
    else (Nonaktif)
        :Set status: Aktif;
        :Channel muncul di kasir;
    endif
    :Menampilkan pesan sukses;
    
else (Hapus)
    |Pemilik|
    :Memilih channel yang akan dihapus;
    :Konfirmasi penghapusan;
    
    |Sistem|
    if (Channel pernah digunakan?) then (Ya)
        :Menampilkan peringatan;
        :Channel tidak bisa dihapus;
        :Sarankan untuk nonaktifkan saja;
    else (Tidak)
        :Hapus channel;
        :Menampilkan pesan sukses;
    endif
endif

stop

@enduml
