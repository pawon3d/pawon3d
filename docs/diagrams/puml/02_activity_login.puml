@startuml Activity - Login & Otorisasi

|User|
start
:Isi email & password;
:Klik Login;

|System|
:Validasi format;

if (Valid?) then (ya)
    :Cari user by email;
    
    if (Ada user?) then (ya)
        :Verifikasi password;
        
        if (Benar?) then (ya)
            if (is_active?) then (ya)
                :Regenerate session;
                :Ambil roles & permissions;
                
                if (Punya permission?) then (ya)
                    :Redirect dashboard\nsesuai role;
                else (tidak)
                    :Redirect ke\n"menunggu peran";
                endif
            else (tidak)
                :Tampilkan error\nakun tidak aktif;
            endif
        else (tidak)
            :Error kredensial;
        endif
    else (tidak)
        :Error user\ntidak ditemukan;
    endif
else (tidak)
    :Error validasi;
endif

stop

@enduml
