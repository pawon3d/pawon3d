<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1854px" preserveAspectRatio="none" style="width:1304px;height:1854px;background:#FFFFFF;" version="1.1" viewBox="0 0 1304 1854" width="1304px" zoomAndPan="magnify"><defs/><g><rect fill="none" height="458.5938" style="stroke:#000000;stroke-width:1.5;" width="931.8467" x="122.4536" y="318.0703"/><rect fill="none" height="318.8359" style="stroke:#000000;stroke-width:1.5;" width="911.8467" x="132.4536" y="450.8281"/><rect fill="none" height="241.1641" style="stroke:#000000;stroke-width:1.5;" width="1108.4956" x="132.4536" y="790.6641"/><rect fill="none" height="87.4063" style="stroke:#000000;stroke-width:1.5;" width="483.1802" x="747.769" y="937.4219"/><rect fill="none" height="152.7578" style="stroke:#000000;stroke-width:1.5;" width="911.8467" x="132.4536" y="1197.5859"/><rect fill="none" height="61.7031" style="stroke:#000000;stroke-width:1.5;" width="311.3652" x="132.4536" y="1471.75"/><rect fill="none" height="180.4609" style="stroke:#000000;stroke-width:1.5;" width="1154.7573" x="132.4536" y="1547.4531"/><rect fill="none" height="87.4063" style="stroke:#000000;stroke-width:1.5;" width="529.4419" x="747.769" y="1633.5078"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="68" x2="68" y1="68.6094" y2="1775.2656"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="215.4536" x2="215.4536" y1="68.6094" y2="1775.2656"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="440.4893" x2="440.4893" y1="68.6094" y2="1775.2656"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="532.2822" x2="532.2822" y1="68.6094" y2="1775.2656"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="618.875" x2="618.875" y1="68.6094" y2="1775.2656"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="821.769" x2="821.769" y1="68.6094" y2="1775.2656"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1000.3696" x2="1000.3696" y1="68.6094" y2="1775.2656"/><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="126.8477" x="5" y="36"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112.8477" x="12" y="57.5332">Laravel Scheduler</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="126.8477" x="5" y="1774.2656"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112.8477" x="12" y="1795.7988">Laravel Scheduler</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="147.0547" x="142.4536" y="18.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="133.0547" x="149.4536" y="39.9238">CheckInventoryAlerts</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="64.5791" x="183.6914" y="57.5332">Command</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="147.0547" x="142.4536" y="1774.2656"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="133.0547" x="149.4536" y="1795.7988">CheckInventoryAlerts</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="64.5791" x="183.6914" y="1813.4082">Command</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="63.793" x="409.4893" y="18.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49.793" x="416.4893" y="39.9238">Material</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="38.1309" x="422.3203" y="57.5332">Model</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="63.793" x="409.4893" y="1774.2656"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49.793" x="416.4893" y="1795.7988">Material</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="38.1309" x="422.3203" y="1813.4082">Model</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="99.5928" x="483.2822" y="18.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="85.5928" x="490.2822" y="39.9238">MaterialBatch</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="38.1309" x="514.0132" y="57.5332">Model</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="99.5928" x="483.2822" y="1774.2656"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="85.5928" x="490.2822" y="1795.7988">MaterialBatch</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="38.1309" x="514.0132" y="1813.4082">Model</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="52.1309" x="592.875" y="18.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="29.5586" x="604.1611" y="39.9238">User</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="38.1309" x="599.875" y="57.5332">Model</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="52.1309" x="592.875" y="1774.2656"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="29.5586" x="604.1611" y="1795.7988">User</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="38.1309" x="599.875" y="1813.4082">Model</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="129.9375" x="757.769" y="36"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="115.9375" x="764.769" y="57.5332">NotificationService</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="129.9375" x="757.769" y="1774.2656"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="115.9375" x="764.769" y="1795.7988">NotificationService</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="59.9307" x="968.3696" y="65.5332">Database</text><path d="M983.335,15 C983.335,5 1001.335,5 1001.335,5 C1001.335,5 1019.335,5 1019.335,15 L1019.335,41 C1019.335,51 1001.335,51 1001.335,51 C1001.335,51 983.335,51 983.335,41 L983.335,15 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M983.335,15 C983.335,25 1001.335,25 1001.335,25 C1001.335,25 1019.335,25 1019.335,15 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="59.9307" x="968.3696" y="1788.7988">Database</text><path d="M983.335,1801.875 C983.335,1791.875 1001.335,1791.875 1001.335,1791.875 C1001.335,1791.875 1019.335,1791.875 1019.335,1801.875 L1019.335,1827.875 C1019.335,1837.875 1001.335,1837.875 1001.335,1837.875 C1001.335,1837.875 983.335,1837.875 983.335,1827.875 L983.335,1801.875 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M983.335,1801.875 C983.335,1811.875 1001.335,1811.875 1001.335,1811.875 C1001.335,1811.875 1019.335,1811.875 1019.335,1801.875 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="1297.2109" x="0" y="99.7852"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1297.2109" y1="99.7852" y2="99.7852"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1297.2109" y1="102.7852" y2="102.7852"/><rect fill="#EEEEEE" height="24.3516" style="stroke:#000000;stroke-width:2.0;" width="151.9854" x="572.6128" y="88.6094"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="134.3735" x="578.6128" y="106.1045">Trigger Harian (08:00)</text><polygon fill="#181818" points="203.981,152.4883,213.981,156.4883,203.981,160.4883,207.981,156.4883" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="68.4238" x2="209.981" y1="156.4883" y2="156.4883"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="47.6963" x="75.4238" y="151.6318">handle()</text><path d="M220,127.9609 L220,169.9609 L432,169.9609 L432,137.9609 L422,127.9609 L220,127.9609 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M422,127.9609 L422,137.9609 L432,137.9609 L422,127.9609 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113.4453" x="226" y="146.4561">Dijalankan via cron:</text><ellipse cx="231.5" cy="158.1641" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="179.2261" x="238" y="162.8076">8 * * * php artisan schedule:run</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="1297.2109" x="0" y="196.8398"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1297.2109" y1="196.8398" y2="196.8398"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1297.2109" y1="199.8398" y2="199.8398"/><rect fill="#EEEEEE" height="24.3516" style="stroke:#000000;stroke-width:2.0;" width="124.5254" x="586.3428" y="185.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="106.9136" x="592.3428" y="203.1592">Cek Stok Rendah</text><polygon fill="#181818" points="429.3857,238.3672,439.3857,242.3672,429.3857,246.3672,433.3857,242.3672" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="215.981" x2="435.3857" y1="242.3672" y2="242.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="167.8828" x="222.981" y="237.5107">where('is_active', true)-&gt;get()</text><polygon fill="#181818" points="989.335,268.7188,999.335,272.7188,989.335,276.7188,993.335,272.7188" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="441.3857" x2="995.335" y1="272.7188" y2="272.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="285.708" x="448.3857" y="267.8623">SELECT * FROM materials WHERE is_active = 1</text><polygon fill="#181818" points="452.3857,299.0703,442.3857,303.0703,452.3857,307.0703,448.3857,303.0703" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="446.3857" x2="1000.335" y1="303.0703" y2="303.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="90.3081" x="458.3857" y="298.2139">active materials</text><path d="M122.4536,318.0703 L194.8882,318.0703 L194.8882,326.4219 L184.8882,336.4219 L122.4536,336.4219 L122.4536,318.0703 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="458.5938" style="stroke:#000000;stroke-width:1.5;" width="931.8467" x="122.4536" y="318.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="27.4346" x="137.4536" y="332.5654">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="118.583" x="209.8882" y="331.4893">[Untuk setiap material]</text><polygon fill="#181818" points="521.0786,371.125,531.0786,375.125,521.0786,379.125,525.0786,375.125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="215.981" x2="527.0786" y1="375.125" y2="375.125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="129.9556" x="222.981" y="353.917">where('material_id', id)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="236.3486" x="222.981" y="370.2686">-&gt;where('quantity', '&gt;', 0)-&gt;sum('quantity')</text><polygon fill="#181818" points="989.335,401.4766,999.335,405.4766,989.335,409.4766,993.335,405.4766" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="533.0786" x2="995.335" y1="405.4766" y2="405.4766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="227.5698" x="540.0786" y="400.6201">SUM(quantity) FROM material_batches</text><polygon fill="#181818" points="544.0786,431.8281,534.0786,435.8281,544.0786,439.8281,540.0786,435.8281" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="538.0786" x2="1000.335" y1="435.8281" y2="435.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="62.1436" x="550.0786" y="430.9717">total_stock</text><path d="M132.4536,450.8281 L192.6245,450.8281 L192.6245,459.1797 L182.6245,469.1797 L132.4536,469.1797 L132.4536,450.8281 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="318.8359" style="stroke:#000000;stroke-width:1.5;" width="911.8467" x="132.4536" y="450.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="15.1709" x="147.4536" y="465.3232">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="84.0522" x="207.6245" y="464.2471">[total_stock = 0]</text><polygon fill="#181818" points="429.3857,487.5313,439.3857,491.5313,429.3857,495.5313,433.3857,491.5313" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="215.981" x2="435.3857" y1="491.5313" y2="491.5313"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="166.7529" x="222.981" y="486.6748">update(['status' =&gt; 'Kosong'])</text><polygon fill="#181818" points="989.335,517.8828,999.335,521.8828,989.335,525.8828,993.335,521.8828" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="441.3857" x2="995.335" y1="521.8828" y2="521.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="240.1382" x="448.3857" y="517.0264">UPDATE materials SET status = 'Kosong'</text><line style="stroke:#181818;stroke-width:1.0;" x1="215.981" x2="257.981" y1="552.2344" y2="552.2344"/><line style="stroke:#181818;stroke-width:1.0;" x1="257.981" x2="257.981" y1="552.2344" y2="565.2344"/><line style="stroke:#181818;stroke-width:1.0;" x1="216.981" x2="257.981" y1="565.2344" y2="565.2344"/><polygon fill="#181818" points="226.981,561.2344,216.981,565.2344,226.981,569.2344,222.981,565.2344" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130.7871" x="222.981" y="547.3779">Tambah ke daftar alert</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="132.4536" x2="1044.3003" y1="574.2344" y2="574.2344"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="133.2515" x="137.4536" y="585.6533">[total_stock &lt;= minimum]</text><polygon fill="#181818" points="429.3857,607.4219,439.3857,611.4219,429.3857,615.4219,433.3857,611.4219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="215.981" x2="435.3857" y1="611.4219" y2="611.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="201.4048" x="222.981" y="606.5654">update(['status' =&gt; 'Hampir Habis'])</text><polygon fill="#181818" points="989.335,637.7734,999.335,641.7734,989.335,645.7734,993.335,641.7734" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="441.3857" x2="995.335" y1="641.7734" y2="641.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="274.79" x="448.3857" y="636.917">UPDATE materials SET status = 'Hampir Habis'</text><line style="stroke:#181818;stroke-width:1.0;" x1="215.981" x2="257.981" y1="672.125" y2="672.125"/><line style="stroke:#181818;stroke-width:1.0;" x1="257.981" x2="257.981" y1="672.125" y2="685.125"/><line style="stroke:#181818;stroke-width:1.0;" x1="216.981" x2="257.981" y1="685.125" y2="685.125"/><polygon fill="#181818" points="226.981,681.125,216.981,685.125,226.981,689.125,222.981,685.125" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130.7871" x="222.981" y="667.2686">Tambah ke daftar alert</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="132.4536" x2="1044.3003" y1="694.125" y2="694.125"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="126.8276" x="137.4536" y="705.5439">[total_stock &gt; minimum]</text><polygon fill="#181818" points="429.3857,727.3125,439.3857,731.3125,429.3857,735.3125,433.3857,731.3125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="215.981" x2="435.3857" y1="731.3125" y2="731.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="173.2402" x="222.981" y="726.4561">update(['status' =&gt; 'Tersedia'])</text><polygon fill="#181818" points="989.335,757.6641,999.335,761.6641,989.335,765.6641,993.335,761.6641" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="441.3857" x2="995.335" y1="761.6641" y2="761.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="246.6255" x="448.3857" y="756.8076">UPDATE materials SET status = 'Tersedia'</text><path d="M132.4536,790.6641 L192.6245,790.6641 L192.6245,799.0156 L182.6245,809.0156 L132.4536,809.0156 L132.4536,790.6641 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="241.1641" style="stroke:#000000;stroke-width:1.5;" width="1108.4956" x="132.4536" y="790.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="15.1709" x="147.4536" y="805.1592">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="180.9253" x="207.6245" y="804.083">[Ada material dengan stok rendah]</text><polygon fill="#181818" points="810.7378,827.3672,820.7378,831.3672,810.7378,835.3672,814.7378,831.3672" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="215.981" x2="816.7378" y1="831.3672" y2="831.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="163.2617" x="222.981" y="826.5107">lowStockAlert(materials_list)</text><polygon fill="#181818" points="629.9404,857.7188,619.9404,861.7188,629.9404,865.7188,625.9404,861.7188" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="623.9404" x2="821.7378" y1="861.7188" y2="861.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="179.7974" x="635.9404" y="856.8623">getWithPermission('inventori.*')</text><polygon fill="#181818" points="989.335,888.0703,999.335,892.0703,989.335,896.0703,993.335,892.0703" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="618.9404" x2="995.335" y1="892.0703" y2="892.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="238.418" x="625.9404" y="887.2139">SELECT users with inventori permissions</text><polygon fill="#181818" points="629.9404,918.4219,619.9404,922.4219,629.9404,926.4219,625.9404,922.4219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="623.9404" x2="1000.335" y1="922.4219" y2="922.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="51.2891" x="635.9404" y="917.5654">users list</text><path d="M747.769,937.4219 L820.2036,937.4219 L820.2036,945.7734 L810.2036,955.7734 L747.769,955.7734 L747.769,937.4219 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="87.4063" style="stroke:#000000;stroke-width:1.5;" width="483.1802" x="747.769" y="937.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="27.4346" x="762.769" y="951.917">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="149.1338" x="835.2036" y="950.8408">[Untuk setiap user inventori]</text><polygon fill="#181818" points="989.335,993.4766,999.335,997.4766,989.335,1001.4766,993.335,997.4766" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="822.7378" x2="995.335" y1="997.4766" y2="997.4766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="154.5972" x="829.7378" y="992.6201">INSERT INTO notifications</text><path d="M1006,960.7734 L1006,1019.7734 L1215,1019.7734 L1215,970.7734 L1205,960.7734 L1006,960.7734 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1205,960.7734 L1205,970.7734 L1215,970.7734 L1205,960.7734 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83.8081" x="1012" y="979.2686">title: Alert Stok</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="188.6143" x="1012" y="995.6201">body: Daftar bahan hampir habis</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="80.9326" x="1012" y="1011.9717">type: inventori</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="1297.2109" x="0" y="1060.0039"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1297.2109" y1="1060.0039" y2="1060.0039"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1297.2109" y1="1063.0039" y2="1063.0039"/><rect fill="#EEEEEE" height="24.3516" style="stroke:#000000;stroke-width:2.0;" width="92.7554" x="602.2278" y="1048.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="75.1436" x="608.2278" y="1066.3232">Cek Expired</text><polygon fill="#181818" points="521.0786,1117.8828,531.0786,1121.8828,521.0786,1125.8828,525.0786,1121.8828" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="215.981" x2="527.0786" y1="1121.8828" y2="1121.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="184.793" x="222.981" y="1100.6748">where('expired_at', '&lt;=', today())</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="179.3657" x="222.981" y="1117.0264">-&gt;where('quantity', '&gt;', 0)-&gt;get()</text><polygon fill="#181818" points="989.335,1148.2344,999.335,1152.2344,989.335,1156.2344,993.335,1152.2344" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="533.0786" x2="995.335" y1="1152.2344" y2="1152.2344"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="195.0635" x="540.0786" y="1147.3779">SELECT FROM material_batches</text><polygon fill="#181818" points="544.0786,1178.5859,534.0786,1182.5859,544.0786,1186.5859,540.0786,1182.5859" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="538.0786" x2="1000.335" y1="1182.5859" y2="1182.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91.7808" x="550.0786" y="1177.7295">expired batches</text><path d="M132.4536,1197.5859 L204.8882,1197.5859 L204.8882,1205.9375 L194.8882,1215.9375 L132.4536,1215.9375 L132.4536,1197.5859 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="152.7578" style="stroke:#000000;stroke-width:1.5;" width="911.8467" x="132.4536" y="1197.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="27.4346" x="147.4536" y="1212.0811">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="147.9146" x="219.8882" y="1211.0049">[Untuk setiap batch expired]</text><polygon fill="#181818" points="429.3857,1234.2891,439.3857,1238.2891,429.3857,1242.2891,433.3857,1238.2891" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="215.981" x2="435.3857" y1="1238.2891" y2="1238.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="128.6162" x="222.981" y="1233.4326">find(batch.material_id)</text><polygon fill="#181818" points="429.3857,1264.6406,439.3857,1268.6406,429.3857,1272.6406,433.3857,1268.6406" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="215.981" x2="435.3857" y1="1268.6406" y2="1268.6406"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="166.7402" x="222.981" y="1263.7842">update(['status' =&gt; 'Expired'])</text><polygon fill="#181818" points="989.335,1294.9922,999.335,1298.9922,989.335,1302.9922,993.335,1298.9922" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="441.3857" x2="995.335" y1="1298.9922" y2="1298.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="240.1255" x="448.3857" y="1294.1357">UPDATE materials SET status = 'Expired'</text><line style="stroke:#181818;stroke-width:1.0;" x1="215.981" x2="257.981" y1="1329.3438" y2="1329.3438"/><line style="stroke:#181818;stroke-width:1.0;" x1="257.981" x2="257.981" y1="1329.3438" y2="1342.3438"/><line style="stroke:#181818;stroke-width:1.0;" x1="216.981" x2="257.981" y1="1342.3438" y2="1342.3438"/><polygon fill="#181818" points="226.981,1338.3438,216.981,1342.3438,226.981,1346.3438,222.981,1342.3438" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="177.0361" x="222.981" y="1324.4873">Tambah ke daftar alert expired</text><polygon fill="#181818" points="521.0786,1392.0469,531.0786,1396.0469,521.0786,1400.0469,525.0786,1396.0469" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="215.981" x2="527.0786" y1="1396.0469" y2="1396.0469"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="229.252" x="222.981" y="1374.8389">where('expired_at', '&lt;=', today + 7 days)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="189.1221" x="222.981" y="1391.1904">-&gt;where('expired_at', '&gt;', today())</text><polygon fill="#181818" points="989.335,1422.3984,999.335,1426.3984,989.335,1430.3984,993.335,1426.3984" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="533.0786" x2="995.335" y1="1426.3984" y2="1426.3984"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="212.4307" x="540.0786" y="1421.542">SELECT (akan expired dalam 7 hari)</text><polygon fill="#181818" points="544.0786,1452.75,534.0786,1456.75,544.0786,1460.75,540.0786,1456.75" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="538.0786" x2="1000.335" y1="1456.75" y2="1456.75"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="126.4707" x="550.0786" y="1451.8936">expiring soon batches</text><path d="M132.4536,1471.75 L204.8882,1471.75 L204.8882,1480.1016 L194.8882,1490.1016 L132.4536,1490.1016 L132.4536,1471.75 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="61.7031" style="stroke:#000000;stroke-width:1.5;" width="311.3652" x="132.4536" y="1471.75"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="27.4346" x="147.4536" y="1486.2451">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="176.043" x="219.8882" y="1485.1689">[Untuk setiap batch akan expired]</text><line style="stroke:#181818;stroke-width:1.0;" x1="215.981" x2="257.981" y1="1512.4531" y2="1512.4531"/><line style="stroke:#181818;stroke-width:1.0;" x1="257.981" x2="257.981" y1="1512.4531" y2="1525.4531"/><line style="stroke:#181818;stroke-width:1.0;" x1="216.981" x2="257.981" y1="1525.4531" y2="1525.4531"/><polygon fill="#181818" points="226.981,1521.4531,216.981,1525.4531,226.981,1529.4531,222.981,1525.4531" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="208.8379" x="222.981" y="1507.5967">Tambah ke daftar alert akan expired</text><path d="M132.4536,1547.4531 L192.6245,1547.4531 L192.6245,1555.8047 L182.6245,1565.8047 L132.4536,1565.8047 L132.4536,1547.4531 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="180.4609" style="stroke:#000000;stroke-width:1.5;" width="1154.7573" x="132.4536" y="1547.4531"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="15.1709" x="147.4536" y="1561.9482">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="185.8506" x="207.6245" y="1560.8721">[Ada material expired/akan expired]</text><polygon fill="#181818" points="810.7378,1584.1563,820.7378,1588.1563,810.7378,1592.1563,814.7378,1588.1563" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="215.981" x2="816.7378" y1="1588.1563" y2="1588.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="156.7681" x="222.981" y="1583.2998">expiringAlert(materials_list)</text><polygon fill="#181818" points="629.9404,1614.5078,619.9404,1618.5078,629.9404,1622.5078,625.9404,1618.5078" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="623.9404" x2="821.7378" y1="1618.5078" y2="1618.5078"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="179.7974" x="635.9404" y="1613.6514">getWithPermission('inventori.*')</text><path d="M747.769,1633.5078 L820.2036,1633.5078 L820.2036,1641.8594 L810.2036,1651.8594 L747.769,1651.8594 L747.769,1633.5078 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="87.4063" style="stroke:#000000;stroke-width:1.5;" width="529.4419" x="747.769" y="1633.5078"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="27.4346" x="762.769" y="1648.0029">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="149.1338" x="835.2036" y="1646.9268">[Untuk setiap user inventori]</text><polygon fill="#181818" points="989.335,1689.5625,999.335,1693.5625,989.335,1697.5625,993.335,1693.5625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="822.7378" x2="995.335" y1="1693.5625" y2="1693.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="154.5972" x="829.7378" y="1688.7061">INSERT INTO notifications</text><path d="M1006,1656.8594 L1006,1715.8594 L1261,1715.8594 L1261,1666.8594 L1251,1656.8594 L1006,1656.8594 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1251,1656.8594 L1251,1666.8594 L1261,1666.8594 L1251,1656.8594 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101.8735" x="1012" y="1675.3545">title: Alert Expired</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="234.876" x="1012" y="1691.7061">body: Daftar bahan expired/akan expired</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="80.9326" x="1012" y="1708.0576">type: inventori</text><polygon fill="#181818" points="79.4238,1753.2656,69.4238,1757.2656,79.4238,1761.2656,75.4238,1757.2656" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="73.4238" x2="214.981" y1="1757.2656" y2="1757.2656"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="123.5571" x="85.4238" y="1752.4092">Command completed</text><!--SRC=[nLPHRziu37xtho3s4djttUMUDXXBWBRnqE7MRMXIxE4w18hDnbfioPFaTFdtHycsQgVfYgm3Ba4SM_n8VIJ53wwOCZpb5HC6NdnWYcsnW7cQOrONg5u0q_TFGTK7d-UORjwBBGeZrUwKx4RVY7DPbanaph6z7xfTCeEAi-96NCeC2mVirWuZpvX9ypxSBGonrnfL7sAVXuYFql1RdZB3fPYZsl8K7TAj1napRCKqmgox8TFiB0Wc4rWelbwZWWj6R0I4upVnU1p1P1Buoi39jCisXfok1OPH8AH18EVS100p_eqLJ6memfOpI9KKCIs_X3Vqizyghy0IreJGRU1OrI90aO4DvSYSumRcHcxWYfPPRbcq6riENSbYkCjHOJZYUibImxSu-XECgZ4wcQxH4BSEQRrcPp7Cam_9-O9elBlwT0bbQzNmvIAvIi27WGdy7SpEu6ImMMlpNa5GI5d1jJ3r1ZGQpYflf9m1UfHTCptV3hNa6J7cMNGZJgQjxNjDZUHcHuRHb2vZIaRNPSyGkU0kei_h-ZBixD4mkUNA0b4xfpQdbesHXkpQo7JZhEx22jCtK2d6RdqleVkor1KTAmp_7Md3JAr7C9d2w1-ffLYFlaRUTxyLrvzdfukaruDvie0c1EtP1JYqjJ-22rQkw71i439sQvWYxZIUtiNTO46dl9_FsmcKNF2oBdyXhGjMLjpEo8hhPoGt2FFxKvm-8yC5AeqPPy_8peTes94qsbzW3zPfnhmRP2ZMLWNid2itv_jJurGhXaBUpMrYJdr3l-souDeqB1tGUbX5Z866_mit-MTK9TUQf90aefLm_kfbEq0MkgSBDIrfk2DNy7YeV9J133KxDHwMoFq4FLG5YxgFwElgMLiAxp_Eawi5_Iq-MHtqAguzV22qtOScdWGKN6cSPFPiAvdjOj9wTt3e656ny-RavVRazQFiAWhoaA4NvK4dMu5EVb0epFR4UQXqs62Mp5WzUpkn0YqpjWkZfpIl4V2XoZLTEYnlGsbhzuNEUa2gdQa31ezEoIqNMUYmhtgo7GN7ZLLRgswgZfoepZiuJYPySgvhH_S8_e3N56-d-wqQWgUzVXxiLSZigq3NZOpU3KeAcjCxHdIeOroiGKifdkvRF-wnPHdu7jQcrlhNpxPfrQaZ_dlLwNzMagINygDYycYHVaLKV64f2__66VjwfxAi2ZIqmNy0]--></g></svg>